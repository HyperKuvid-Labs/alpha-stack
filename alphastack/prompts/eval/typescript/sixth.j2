Event Sourcing Framework with CQRS
Build an event store with optimistic concurrency control, snapshot generation, and projection rebuilding. Implement aggregate roots with type-safe event application, support saga pattern for distributed transactions, and provide event versioning with upcasters. Use PostgreSQL for event log, Redis for read models, and support temporal queries.

Key Features: Discriminated unions for event types, const enums for event names, abstract base classes for aggregates, higher-order types for event handlers, type narrowing with in operator, builder pattern with method chaining